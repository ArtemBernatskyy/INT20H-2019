(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),l=a.n(r),s=a(30),c=a(17),i=a(52),u={message:null,status:null},p=a(4),d=a(14),m=a.n(d),E=a(20),h=a(27),O=a.n(h),f={API_BASE:"".concat("https://shrt.life/","api/"),API_VERSIONS:{V1:"v1/"}},g=function(e,t){return e.response&&403===e.response.status?t({type:"ON_FAILED_REQUEST",payload:e.response}):e.response&&400===e.response.status?t({type:"ON_FAILED_REQUEST",payload:e.response}):e.response&&500===e.response.status&&t({type:"ON_FAILED_REQUEST",payload:e.response}),e},v={photos:{loading:!0,loaded:!1,count:null,next:null,previous:null,results:[]}},b={emotions:{loading:!0,loaded:!1,count:null,next:null,previous:null,results:[]}},_=[i.a],y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,S=Object(c.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_FAILED_REQUEST":return{message:t.payload.data,status:t.payload.status};default:return e}},photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.photos,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PHOTOS_PENDING":return Object(p.a)({},e,{loading:!0,loaded:!1},t.payload);case"GET_PHOTOS_FAIL":return Object(p.a)({loading:!1,loaded:!0},t.payload);case"GET_PHOTOS_SUCCESS":if(t.payload.clean)return Object(p.a)({loading:!1,loaded:!0},t.payload,{clean:!1});var a=Object(p.a)({},t.payload);return a.results=e.results.concat(t.payload.results),Object(p.a)({loading:!1,loaded:!0},a);default:return e}},emotions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.emotions,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EMOTIONS_PENDING":return Object(p.a)({},e,{loading:!0,loaded:!1},t.payload);case"GET_EMOTIONS_FAIL":case"GET_EMOTIONS_SUCCESS":return Object(p.a)({loading:!1,loaded:!0},t.payload);default:return e}}}),j=Object(c.e)(S,y(c.a.apply(void 0,_))),N=a(120),T=a(62),I=(a(95),a(96),a(121)),w=a(119),P=a(113),x=function(){return o.a.createElement("div",{className:"not-found-page"},o.a.createElement("p",{className:"code"},"4",o.a.createElement("span",null,"0"),o.a.createElement("span",null,"4")),o.a.createElement("span",{className:"code"},"G",o.a.createElement("span",null,"0")),o.a.createElement(P.a,{className:"error",to:"/"},"B",o.a.createElement("span",null,"A"),o.a.createElement("span",null,"C"),o.a.createElement("span",null,"K")))},C=a(21),k=a(22),A=a(24),G=a(23),D=a(25),U=a(118),M=a(64),R=a(53),V=a(54),F=a.n(V),L=a(12),B=a(114),H=a(115),Q=a(116),J=a(117),X=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).toggle=a.toggle.bind(Object(L.a)(Object(L.a)(a))),a.state={isOpen:!1},a}return Object(D.a)(t,e),Object(k.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(B.a,{color:"dark",dark:!0,expand:"md"},o.a.createElement(H.a,{href:"/"},"Pirates of Silicon Valley"),o.a.createElement(Q.a,{onClick:this.toggle}),o.a.createElement(J.a,{isOpen:this.state.isOpen,navbar:!0})))}}]),t}(o.a.Component),K=a(56),q=a.n(K);function z(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return e&&e.length>0?e.map(function(e){return{label:e[t],value:e[a]}}):[]}var W=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).getNextPhotos=function(){var e=a.props,t=e.photos,n=e.getPhotos,o=a.state.selectedEmotions;t.results.length?t.next&&n({page:F.a.parse(t.next).page,emotions:o&&o.map(function(e){return e.label}).join(", ")}):n({emotions:o&&o.map(function(e){return e.label}).join(", ")})},a.handleEmotionChange=function(){var e=Object(E.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({selectedEmotions:t}),e.next=3,a.props.getPhotos({emotions:t.map(function(e){return e.label}).join(", ")},!0);case 3:return e.abrupt("return",z(a.props.emotions.results,"name")||[]);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={selectedEmotions:[]},a}return Object(D.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){this.props.getEmotions()}},{key:"render",value:function(){var e=this.props,t=e.photos,a=e.emotions,n=t.loading,r=a.loading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(X,null),(n||r)&&o.a.createElement("div",{className:"loader"},o.a.createElement(q.a,null)),o.a.createElement("div",{className:"album py-5 bg-light"},o.a.createElement("div",{className:"container"},o.a.createElement(U.a,{className:"mb-3 filter"},o.a.createElement("div",{className:"filter__container"},o.a.createElement(M.a,{isMulti:!0,onChange:this.handleEmotionChange,options:z(a.results,"name")||[]}))),o.a.createElement("div",{className:"row"},t.results.map(function(e){return o.a.createElement("div",{key:e.id,className:"col-md-4"},o.a.createElement("div",{className:"card mb-4 shadow-sm"},o.a.createElement("img",{className:"card-img-top","data-src":"holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail",alt:e.title,src:e.url_m,"data-holder-rendered":"true"}),o.a.createElement("div",{className:"card-body"},o.a.createElement("p",{className:"card-text"},e.title))))}),o.a.createElement(R.a,{bottomOffset:"-100px",onEnter:this.getNextPhotos})))))}}]),t}(n.Component),Y=Object(s.b)(function(e){return{photos:e.photos,emotions:e.emotions}},{getPhotos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:null,emotions:null,page:null},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(E.a)(m.a.mark(function n(o){var r,l;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o({type:"GET_PHOTOS_PENDING",payload:a?Object(p.a)({},e,{loading:!1,loaded:!0}):e}),r="".concat(f.API_BASE).concat(f.API_VERSIONS.V1,"core/photos/"),n.prev=2,n.next=5,O.a.get("".concat(r),{params:e,withCredentials:!0});case 5:l=n.sent,o({type:"GET_PHOTOS_SUCCESS",payload:Object(p.a)({},l.data,{clean:t})}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),g(n.t0,o);case 12:case"end":return n.stop()}},n,this,[[2,9]])}));return function(e){return n.apply(this,arguments)}}()},getEmotions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:null},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(E.a)(m.a.mark(function a(n){var o,r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"GET_EMOTIONS_PENDING",payload:t?Object(p.a)({},e,{loading:!1,loaded:!0}):e}),o="".concat(f.API_BASE).concat(f.API_VERSIONS.V1,"core/emotions/"),a.prev=2,a.next=5,O.a.get("".concat(o),{params:e,withCredentials:!0});case 5:r=a.sent,n({type:"GET_EMOTIONS_SUCCESS",payload:r.data}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),g(a.t0,n);case 12:case"end":return a.stop()}},a,this,[[2,9]])}));return function(e){return a.apply(this,arguments)}}()}})(W),Z=function(){return o.a.createElement("main",null,o.a.createElement(I.a,null,o.a.createElement(w.a,{exact:!0,path:"/",component:Y}),o.a.createElement(w.a,{path:"",component:x})))},$=a(122),ee=function(e){function t(){return Object(C.a)(this,t),Object(A.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(k.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.PureComponent),te=Object($.a)(ee),ae=Object(T.hot)(function(){return o.a.createElement(N.a,null,o.a.createElement(te,null,o.a.createElement("div",null,o.a.createElement(Z,null))))});l.a.render(o.a.createElement(s.a,{store:j},o.a.createElement(ae,null)),document.getElementById("root"))},66:function(e,t,a){e.exports=a(112)},96:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.dc225fd8.chunk.js.map