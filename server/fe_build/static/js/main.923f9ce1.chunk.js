(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),c=a(28),s=a(16),i=a(48),u={message:null,status:null},p=a(8),d=a(13),m=a.n(d),E=a(18),h=a(25),O=a.n(h),v={API_BASE:"".concat("https://shrt.life/","api/"),API_VERSIONS:{V1:"v1/"}},f=function(e,t){return e.response&&403===e.response.status?t({type:"ON_FAILED_REQUEST",payload:e.response}):e.response&&400===e.response.status?t({type:"ON_FAILED_REQUEST",payload:e.response}):e.response&&500===e.response.status&&t({type:"ON_FAILED_REQUEST",payload:e.response}),e},g={photos:{loading:!0,loaded:!1,count:null,next:null,previous:null,results:[]}},b={emotions:{loading:!0,loaded:!1,count:null,next:null,previous:null,results:[]}},_=[i.a],y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,S=Object(s.c)({errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_FAILED_REQUEST":return{message:t.payload.data,status:t.payload.status};default:return e}},photos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.photos,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PHOTOS_PENDING":return Object(p.a)({},e,{loading:!0,loaded:!1},t.payload);case"GET_PHOTOS_FAIL":case"GET_PHOTOS_SUCCESS":return Object(p.a)({loading:!1,loaded:!0},t.payload);default:return e}},emotions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.emotions,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EMOTIONS_PENDING":return Object(p.a)({},e,{loading:!0,loaded:!1},t.payload);case"GET_EMOTIONS_FAIL":case"GET_EMOTIONS_SUCCESS":return Object(p.a)({loading:!1,loaded:!0},t.payload);default:return e}}}),N=Object(s.e)(S,y(s.a.apply(void 0,_))),j=a(110),T=a(56),I=(a(89),a(90),a(111)),w=a(109),P=a(103),C=function(){return r.a.createElement("div",{className:"not-found-page"},r.a.createElement("p",{className:"code"},"4",r.a.createElement("span",null,"0"),r.a.createElement("span",null,"4")),r.a.createElement("span",{className:"code"},"G",r.a.createElement("span",null,"0")),r.a.createElement(P.a,{className:"error",to:"/"},"B",r.a.createElement("span",null,"A"),r.a.createElement("span",null,"C"),r.a.createElement("span",null,"K")))},k=a(19),A=a(20),x=a(22),G=a(21),D=a(23),U=a(108),M=a(58),R=a(11),V=a(104),F=a(105),L=a(106),B=a(107),H=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(x.a)(this,Object(G.a)(t).call(this,e))).toggle=a.toggle.bind(Object(R.a)(Object(R.a)(a))),a.state={isOpen:!1},a}return Object(D.a)(t,e),Object(A.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(F.a,{href:"/"},"Pirates of Silicon Valley"),r.a.createElement(L.a,{onClick:this.toggle}),r.a.createElement(B.a,{isOpen:this.state.isOpen,navbar:!0})))}}]),t}(r.a.Component),Q=a(50),J=a.n(Q);function X(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return e&&e.length>0?e.map(function(e){return{label:e[t],value:e[a]}}):[]}var K=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(x.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).handleEmotionChange=function(){var e=Object(E.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.getPhotos({emotions:t.map(function(e){return e.label}).join(", ")});case 2:return e.abrupt("return",X(a.props.emotions.results,"name")||[]);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(D.a)(t,e),Object(A.a)(t,[{key:"componentDidMount",value:function(){this.props.getPhotos(),this.props.getEmotions()}},{key:"render",value:function(){var e=this.props,t=e.photos,a=e.emotions,n=t.loading,o=a.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null),(n||o)&&r.a.createElement("div",{className:"loader"},r.a.createElement(J.a,null)),r.a.createElement("div",{className:"album py-5 bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement(U.a,{className:"mb-3 filter"},r.a.createElement("div",{className:"filter__container"},r.a.createElement(M.a,{isMulti:!0,onChange:this.handleEmotionChange,options:X(a.results,"name")||[]}))),r.a.createElement("div",{className:"row"},t.results.map(function(e){return r.a.createElement("div",{key:e.id,className:"col-md-4"},r.a.createElement("div",{className:"card mb-4 shadow-sm"},r.a.createElement("img",{className:"card-img-top","data-src":"holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail",alt:e.title,src:e.url_m,"data-holder-rendered":"true"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},e.title))))})))))}}]),t}(n.Component),q=Object(c.b)(function(e){return{photos:e.photos,emotions:e.emotions}},{getPhotos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:null,emotions:null},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(E.a)(m.a.mark(function a(n){var r,o;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"GET_PHOTOS_PENDING",payload:t?Object(p.a)({},e,{loading:!1,loaded:!0}):e}),r="".concat(v.API_BASE).concat(v.API_VERSIONS.V1,"core/photos/"),a.prev=2,a.next=5,O.a.get("".concat(r),{params:e,withCredentials:!0});case 5:o=a.sent,n({type:"GET_PHOTOS_SUCCESS",payload:o.data}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),f(a.t0,n);case 12:case"end":return a.stop()}},a,this,[[2,9]])}));return function(e){return a.apply(this,arguments)}}()},getEmotions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:null},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var a=Object(E.a)(m.a.mark(function a(n){var r,o;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"GET_EMOTIONS_PENDING",payload:t?Object(p.a)({},e,{loading:!1,loaded:!0}):e}),r="".concat(v.API_BASE).concat(v.API_VERSIONS.V1,"core/emotions/"),a.prev=2,a.next=5,O.a.get("".concat(r),{params:e,withCredentials:!0});case 5:o=a.sent,n({type:"GET_EMOTIONS_SUCCESS",payload:o.data}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),f(a.t0,n);case 12:case"end":return a.stop()}},a,this,[[2,9]])}));return function(e){return a.apply(this,arguments)}}()}})(K),z=function(){return r.a.createElement("main",null,r.a.createElement(I.a,null,r.a.createElement(w.a,{exact:!0,path:"/",component:q}),r.a.createElement(w.a,{path:"",component:C})))},W=a(112),Y=function(e){function t(){return Object(k.a)(this,t),Object(x.a)(this,Object(G.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(A.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.PureComponent),Z=Object(W.a)(Y),$=Object(T.hot)(function(){return r.a.createElement(j.a,null,r.a.createElement(Z,null,r.a.createElement("div",null,r.a.createElement(z,null))))});l.a.render(r.a.createElement(c.a,{store:N},r.a.createElement($,null)),document.getElementById("root"))},60:function(e,t,a){e.exports=a(102)},90:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.923f9ce1.chunk.js.map
