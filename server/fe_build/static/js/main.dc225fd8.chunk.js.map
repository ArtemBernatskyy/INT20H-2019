{"version":3,"sources":["redux/reducers/errorsReducer.js","constants/config.js","utils/api.js","redux/actions/errorsActions.js","redux/reducers/photoReducer.js","redux/reducers/emotionReducer.js","redux/store.js","redux/actions/photoActions.js","redux/actions/emotionActions.js","containers/404/index.jsx","components/Header/index.jsx","utils/misc.js","containers/MainPage/index.jsx","routes/Router.jsx","components/ScrollToTop.jsx","App.jsx","index.jsx"],"names":["initialState","message","status","API_CONFIG","API_BASE","concat","process","API_VERSIONS","V1","handleErrors","error","dispatch","response","type","payload","photos","loading","loaded","count","next","previous","results","emotions","middlewares","thunk","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducer","combineReducers","errors","state","arguments","length","undefined","action","data","Object","objectSpread","clean","newPhotosObject","store","createStore","applyMiddleware","apply","NotFound404","react_default","a","createElement","className","Link","to","Header","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","toggle","bind","assertThisInitialized","isOpen","setState","Navbar","color","dark","expand","NavbarBrand","href","NavbarToggler","onClick","Collapse","navbar","React","Component","resultsToOptions","valueName","idName","map","result","label","value","MainPage","getNextPhotos","_this$props","getPhotos","selectedEmotions","page","qs","parse","emotion","join","handleEmotionChange","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","abrupt","stop","_x","getEmotions","_this$props2","isPhotosLoading","isEmotionsLoading","Fragment","Header_Header","LoadingIcon_default","Row","react_select_esm","isMulti","onChange","options","image","key","id","data-src","alt","title","src","url_m","data-holder-rendered","react_waypoint_es","bottomOffset","onEnter","connect","params","search","seamless","fetchUrl","axios","get","withCredentials","sent","t0","Router","Switch","Route","exact","path","component","ScrollToTop","prevProps","location","pathname","scrollTo","children","PureComponent","withRouter","hot","BrowserRouter","components_ScrollToTop","routes_Router","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"8JAGMA,EAAe,CACnBC,QAAS,KACTC,OAAQ,uDCLGC,EAAa,CACxBC,SAAQ,GAAAC,OAAKC,qBAAL,QACRC,aAAc,CACZC,GAAI,QCCKC,EAAe,SAACC,EAAOC,GAkBlC,OAjBID,EAAME,UAAsC,MAA1BF,EAAME,SAASV,OACnCS,EAAS,CACPE,KCN2B,oBDO3BC,QAASJ,EAAME,WAERF,EAAME,UAAsC,MAA1BF,EAAME,SAASV,OAC1CS,EAAS,CACPE,KCX2B,oBDY3BC,QAASJ,EAAME,WAERF,EAAME,UAAsC,MAA1BF,EAAME,SAASV,QAC1CS,EAAS,CACPE,KChB2B,oBDiB3BC,QAASJ,EAAME,WAIZF,GEfHV,EAAe,CACnBe,OAAQ,CACNC,SAAS,EACTC,QAAQ,EACRC,MAAO,KACPC,KAAM,KACNC,SAAU,KACVC,QAAS,KCPPrB,EAAe,CACnBsB,SAAU,CACRN,SAAS,EACTC,QAAQ,EACRC,MAAO,KACPC,KAAM,KACNC,SAAU,KACVC,QAAS,KCFPE,EAAc,CAACC,KAIfC,EAAkBC,OAAOC,sCAAwCC,IAGjEC,EAAUC,YAAgB,CAC9BC,ONZa,WAAwC,IAA9BC,EAA8BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAtBjC,EAAcoC,EAAQH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACrD,OAAQC,EAAOvB,MACb,IGT6B,oBHU3B,MAAO,CACLZ,QAASmC,EAAOtB,QAAQuB,KACxBnC,OAAQkC,EAAOtB,QAAQZ,QAE3B,QACE,OAAO8B,IMKXjB,OFD2B,WAAyC,IAAxCiB,EAAwCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAhCjC,EAAae,OAAQqB,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACpE,OAAQC,EAAOvB,MACb,IGhB8B,qBHiB5B,OAAOyB,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEhB,SAAS,EACTC,QAAQ,GACLmB,EAAOtB,SAEd,IGtB2B,kBHuBzB,OAAOwB,OAAAC,EAAA,EAAAD,CAAA,CACLtB,SAAS,EACTC,QAAQ,GACLmB,EAAOtB,SAEd,IG3B8B,qBH4B5B,GAAIsB,EAAOtB,QAAQ0B,MACjB,OAAOF,OAAAC,EAAA,EAAAD,CAAA,CACLtB,SAAS,EACTC,QAAQ,GACLmB,EAAOtB,QAHZ,CAIE0B,OAAO,IAGX,IAAMC,EAAeH,OAAAC,EAAA,EAAAD,CAAA,GAAQF,EAAOtB,SAEpC,OADA2B,EAAgBpB,QAAUW,EAAMX,QAAQhB,OAAO+B,EAAOtB,QAAQO,SACvDiB,OAAAC,EAAA,EAAAD,CAAA,CACLtB,SAAS,EACTC,QAAQ,GACLwB,GAGP,QACE,OAAOT,IE/BXV,SDF6B,WAA2C,IAA1CU,EAA0CC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAlCjC,EAAasB,SAAUc,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxE,OAAQC,EAAOvB,MACb,IGhBgC,uBHiB9B,OAAOyB,OAAAC,EAAA,EAAAD,CAAA,GACFN,EADL,CAEEhB,SAAS,EACTC,QAAQ,GACLmB,EAAOtB,SAEd,IGtB6B,oBH4B7B,IG3BgC,uBH4B9B,OAAOwB,OAAAC,EAAA,EAAAD,CAAA,CACLtB,SAAS,EACTC,QAAQ,GACLmB,EAAOtB,SAEd,QACE,OAAOkB,MCVEU,EANDC,YACZd,EAEAJ,EAAgBmB,IAAeC,WAAf,EAAmBtB,+DGLtBuB,EArBK,kBAClBC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,QAAb,IAEEH,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,kBAEFF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAAhB,IAEEH,EAAAC,EAAAC,cAAA,kBAEFF,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMD,UAAU,QAAQE,GAAG,KAA3B,IAEEL,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,iBACAF,EAAAC,EAAAC,cAAA,kJCTeI,cACnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAjB,OAAAkB,EAAA,EAAAlB,CAAAmB,KAAAJ,IACjBE,EAAAjB,OAAAoB,EAAA,EAAApB,CAAAmB,KAAAnB,OAAAqB,EAAA,EAAArB,CAAAe,GAAAO,KAAAH,KAAMH,KAEDO,OAASN,EAAKM,OAAOC,KAAZxB,OAAAyB,EAAA,EAAAzB,QAAAyB,EAAA,EAAAzB,CAAAiB,KACdA,EAAKvB,MAAQ,CACXgC,QAAQ,GALOT,wEAUjBE,KAAKQ,SAAS,CACZD,QAASP,KAAKzB,MAAMgC,0CAKtB,OACEjB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAQC,MAAM,OAAOC,MAAI,EAACC,OAAO,MAC/BtB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAaC,KAAK,KAAlB,6BACAxB,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CAAeC,QAAShB,KAAKI,SAC7Bd,EAAAC,EAAAC,cAACyB,EAAA,EAAD,CAAUV,OAAQP,KAAKzB,MAAMgC,OAAQW,QAAM,aAtBjBC,IAAMC,4BCF1C,SAASC,EAAiBzD,EAAS0D,GAA0B,IAAfC,EAAe/C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAN,KACrD,OAAIZ,GAAWA,EAAQa,OAAS,EACvBb,EAAQ4D,IAAI,SAAAC,GAAM,MAAK,CAAEC,MAAOD,EAAOH,GAAYK,MAAOF,EAAOF,MAEnE,OCIHK,cACJ,SAAAA,EAAY/B,GAAO,IAAAC,EAAA,OAAAjB,OAAAkB,EAAA,EAAAlB,CAAAmB,KAAA4B,IACjB9B,EAAAjB,OAAAoB,EAAA,EAAApB,CAAAmB,KAAAnB,OAAAqB,EAAA,EAAArB,CAAA+C,GAAAzB,KAAAH,KAAMH,KAURgC,cAAgB,WAAM,IAAAC,EACUhC,EAAKD,MAA3BvC,EADYwE,EACZxE,OAAQyE,EADID,EACJC,UACRC,EAAqBlC,EAAKvB,MAA1ByD,iBACH1E,EAAOM,QAAQa,OAKTnB,EAAOI,MAEhBqE,EAAU,CACRE,KAAMC,IAAGC,MAAM7E,EAAOI,MAAMuE,KAC5BpE,SAAUmE,GAAoBA,EAAiBR,IAAI,SAAAY,GAAO,OAAIA,EAAQV,QAAOW,KAAK,QAPpFN,EAAU,CACRlE,SAAUmE,GAAoBA,EAAiBR,IAAI,SAAAY,GAAO,OAAIA,EAAQV,QAAOW,KAAK,SAjBrEvC,EA4BnBwC,oBA5BmB,eAAAC,EAAA1D,OAAA2D,EAAA,EAAA3D,CAAA4D,EAAAlD,EAAAmD,KA4BG,SAAAC,EAAO9E,GAAP,OAAA4E,EAAAlD,EAAAqD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAnF,MAAA,cAEpBoC,EAAKU,SAAS,CAAEwB,iBAAkBnE,IAFdgF,EAAAnF,KAAA,EAGdoC,EAAKD,MAAMkC,UACf,CAAElE,SAAUA,EAAS2D,IAAI,SAAAY,GAAO,OAAIA,EAAQV,QAAOW,KAAK,QACxD,GALkB,cAAAQ,EAAAE,OAAA,SAOb1B,EAAiBvB,EAAKD,MAAMhC,SAASD,QAAS,SAAW,IAP5C,wBAAAiF,EAAAG,SAAAL,EAAA3C,SA5BH,gBAAAiD,GAAA,OAAAV,EAAAnD,MAAAY,KAAAxB,YAAA,GAEjBsB,EAAKvB,MAAQ,CACXyD,iBAAkB,IAHHlC,mFAQjBE,KAAKH,MAAMqD,+CA8BJ,IAAAC,EACsBnD,KAAKH,MAA1BvC,EADD6F,EACC7F,OAAQO,EADTsF,EACStF,SACVuF,EAAkB9F,EAAOC,QACzB8F,EAAoBxF,EAASN,QAEnC,OACE+B,EAAAC,EAAAC,cAACF,EAAAC,EAAM+D,SAAP,KACEhE,EAAAC,EAAAC,cAAC+D,EAAD,OACEH,GAAmBC,IAAsB/D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UAASH,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,OACnED,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAEbH,EAAAC,EAAAC,cAACiE,EAAA,EAAD,CAAKhE,UAAU,eACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACbH,EAAAC,EAAAC,cAACkE,EAAA,EAAD,CACEC,SAAO,EACPC,SAAU5D,KAAKsC,oBACfuB,QAASxC,EAAiBxD,EAASD,QAAS,SAAW,OAK7D0B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAEZnC,EAAOM,QAAQ4D,IAAI,SAAAsC,GAAK,OACvBxE,EAAAC,EAAAC,cAAA,OAAKuE,IAAKD,EAAME,GAAIvE,UAAU,YAC5BH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAewE,WAAS,oEAAgFC,IAAKJ,EAAMK,MAAOC,IAAKN,EAAMO,MAAOC,uBAAqB,SAChLhF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaqE,EAAMK,YAMxC7E,EAAAC,EAAAC,cAAC+E,EAAA,EAAD,CACEC,aAAa,SACbC,QAASzE,KAAK6B,2BA5EPT,aA0FRsD,cACb,SAAAnG,GAAK,MAAK,CACRjB,OAAQiB,EAAMjB,OACdO,SAAUU,EAAMV,WAElB,CAAEkE,ULnGqB,eACvB4C,EADuBnG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GACd,CACPoG,OAAQ,KACR/G,SAAU,KACVoE,KAAM,MAERlD,EANuBP,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAOvBqG,EAPuBrG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,yBAAA+D,EAAA1D,OAAA2D,EAAA,EAAA3D,CAAA4D,EAAAlD,EAAAmD,KAQpB,SAAAC,EAAOzF,GAAP,IAAA4H,EAAA3H,EAAA,OAAAsF,EAAAlD,EAAAqD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAnF,MAAA,cACHR,EAAS,CACPE,KAf8B,qBAiB9BC,QAASwH,EAAQhG,OAAAC,EAAA,EAAAD,CAAA,GAAQ8F,EAAR,CAAgBpH,SAAS,EAAOC,QAAQ,IAASmH,IAE9DG,EANH,GAAAlI,OAMiBF,EAAWC,UAN5BC,OAMuCF,EAAWI,aAAaC,GAN/D,gBAAA8F,EAAAC,KAAA,EAAAD,EAAAnF,KAAA,EASsBqH,IAAMC,IAAN,GAAApI,OAAakI,GAAY,CAAEH,SAAQM,iBAAiB,IAT1E,OASK9H,EATL0F,EAAAqC,KAUDhI,EAAS,CACPE,KAtB4B,qBAuB5BC,QAAQwB,OAAAC,EAAA,EAAAD,CAAA,GAAM1B,EAASyB,KAAhB,CAAsBG,YAZ9B8D,EAAAnF,KAAA,gBAAAmF,EAAAC,KAAA,EAAAD,EAAAsC,GAAAtC,EAAA,SAeD7F,EAAY6F,EAAAsC,GAAQjI,GAfnB,yBAAA2F,EAAAG,SAAAL,EAAA3C,KAAA,YARoB,gBAAAiD,GAAA,OAAAV,EAAAnD,MAAAY,KAAAxB,YAAA,IKmGV0E,YJnGY,eACzByB,EADyBnG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAChB,CACPoG,OAAQ,MAEVC,EAJyBrG,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,yBAAA+D,EAAA1D,OAAA2D,EAAA,EAAA3D,CAAA4D,EAAAlD,EAAAmD,KAKtB,SAAAC,EAAOzF,GAAP,IAAA4H,EAAA3H,EAAA,OAAAsF,EAAAlD,EAAAqD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAnF,MAAA,cACHR,EAAS,CACPE,KAZgC,uBAchCC,QAASwH,EAAQhG,OAAAC,EAAA,EAAAD,CAAA,GAAQ8F,EAAR,CAAgBpH,SAAS,EAAOC,QAAQ,IAASmH,IAE9DG,EANH,GAAAlI,OAMiBF,EAAWC,UAN5BC,OAMuCF,EAAWI,aAAaC,GAN/D,kBAAA8F,EAAAC,KAAA,EAAAD,EAAAnF,KAAA,EASsBqH,IAAMC,IAAN,GAAApI,OAAakI,GAAY,CAAEH,SAAQM,iBAAiB,IAT1E,OASK9H,EATL0F,EAAAqC,KAUDhI,EAAS,CACPE,KAnB8B,uBAoB9BC,QAASF,EAASyB,OAZnBiE,EAAAnF,KAAA,gBAAAmF,EAAAC,KAAA,EAAAD,EAAAsC,GAAAtC,EAAA,SAeD7F,EAAY6F,EAAAsC,GAAQjI,GAfnB,yBAAA2F,EAAAG,SAAAL,EAAA3C,KAAA,YALsB,gBAAAiD,GAAA,OAAAV,EAAAnD,MAAAY,KAAAxB,YAAA,KI8FZkG,CAMb9C,GC/FawD,EATA,kBACb9F,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAC6F,EAAA,EAAD,KACE/F,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAW7D,IACjCtC,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,CAAOE,KAAK,GAAGC,UAAWpG,gBCP1BqG,8LAQeC,GACb3F,KAAKH,MAAM+F,SAASC,WAAaF,EAAUC,SAASC,UACtD5H,OAAO6H,SAAS,EAAG,oCAKrB,OAAO9F,KAAKH,MAAMkG,gBAfIC,iBAmBXC,eAAWP,ICDXQ,iBAXH,kBACV5G,EAAAC,EAAAC,cAAC2G,EAAA,EAAD,KACE7G,EAAAC,EAAAC,cAAC4G,GAAD,KACE9G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6G,EAAD,WCRRC,IAASC,OACPjH,EAAAC,EAAAC,cAACgH,EAAA,EAAD,CAAUvH,MAAOA,GACfK,EAAAC,EAAAC,cAACiH,GAAD,OAEFC,SAASC,eAAe","file":"static/js/main.dc225fd8.chunk.js","sourcesContent":["import { ON_FAILED_REQUEST } from 'redux/actions/errorsActions';\n\n\nconst initialState = {\n  message: null,\n  status: null,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case ON_FAILED_REQUEST:\n      return {\n        message: action.payload.data,\n        status: action.payload.status,\n      };\n    default:\n      return state;\n  }\n}\n","export const API_CONFIG = {\n  API_BASE: `${process.env.REACT_APP_API_BASE}api/`,\n  API_VERSIONS: {\n    V1: 'v1/',\n  },\n};\n\nexport const OTHER_CONFIG = {};\n","import { ON_FAILED_REQUEST } from 'redux/actions/errorsActions';\n\n\n// eslint-disable-next-line import/prefer-default-export\nexport const handleErrors = (error, dispatch) => {\n  if (error.response && error.response.status === 403) {\n    dispatch({\n      type: ON_FAILED_REQUEST,\n      payload: error.response,\n    });\n  } else if (error.response && error.response.status === 400) {\n    dispatch({\n      type: ON_FAILED_REQUEST,\n      payload: error.response,\n    });\n  } else if (error.response && error.response.status === 500) {\n    dispatch({\n      type: ON_FAILED_REQUEST,\n      payload: error.response,\n    });\n  }\n  // TODO parse errors here and return error text and status\n  return error;\n};\n","// eslint-disable-next-line import/prefer-default-export\nexport const ON_FAILED_REQUEST = 'ON_FAILED_REQUEST';\n","import {\n  GET_PHOTOS_PENDING,\n  GET_PHOTOS_FAIL,\n  GET_PHOTOS_SUCCESS,\n} from '../actions/photoActions';\n\n\nconst initialState = {\n  photos: {\n    loading: true,\n    loaded: false,\n    count: null,\n    next: null,\n    previous: null,\n    results: [],\n  },\n};\n\n\n// eslint-disable-next-line import/prefer-default-export\nexport const photosReducer = (state = initialState.photos, action) => {\n  switch (action.type) {\n    case GET_PHOTOS_PENDING:\n      return {\n        ...state,\n        loading: true,\n        loaded: false,\n        ...action.payload,\n      };\n    case GET_PHOTOS_FAIL:\n      return {\n        loading: false,\n        loaded: true,\n        ...action.payload,\n      };\n    case GET_PHOTOS_SUCCESS: {\n      if (action.payload.clean) {\n        return {\n          loading: false,\n          loaded: true,\n          ...action.payload,\n          clean: false,\n        };\n      }\n      const newPhotosObject = { ...action.payload };\n      newPhotosObject.results = state.results.concat(action.payload.results);\n      return {\n        loading: false,\n        loaded: true,\n        ...newPhotosObject,\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import {\n  GET_EMOTIONS_PENDING,\n  GET_EMOTIONS_FAIL,\n  GET_EMOTIONS_SUCCESS,\n} from '../actions/emotionActions';\n\n\nconst initialState = {\n  emotions: {\n    loading: true,\n    loaded: false,\n    count: null,\n    next: null,\n    previous: null,\n    results: [],\n  },\n};\n\n\n// eslint-disable-next-line import/prefer-default-export\nexport const emotionsReducer = (state = initialState.emotions, action) => {\n  switch (action.type) {\n    case GET_EMOTIONS_PENDING:\n      return {\n        ...state,\n        loading: true,\n        loaded: false,\n        ...action.payload,\n      };\n    case GET_EMOTIONS_FAIL:\n      return {\n        loading: false,\n        loaded: true,\n        ...action.payload,\n      };\n    case GET_EMOTIONS_SUCCESS:\n      return {\n        loading: false,\n        loaded: true,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  combineReducers, createStore, compose, applyMiddleware,\n} from 'redux';\nimport thunk from 'redux-thunk';\n\nimport {\n  photosReducer,\n  errorsReducer,\n  emotionsReducer,\n} from 'redux/reducers';\n\n\nconst middlewares = [thunk];\n\n\n// eslint-disable-next-line\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n\nconst reducer = combineReducers({\n  errors: errorsReducer,\n  photos: photosReducer,\n  emotions: emotionsReducer,\n});\n\n\nconst store = createStore(\n  reducer,\n  // compose(applyMiddleware(...middlewares)),\n  composeEnhancer(applyMiddleware(...middlewares)),\n);\n\nexport default store;\n","import axios from 'axios';\n\nimport { API_CONFIG } from 'constants/config';\nimport { handleErrors } from 'utils/api';\n\n// objects\nexport const GET_PHOTOS_PENDING = 'GET_PHOTOS_PENDING';\nexport const GET_PHOTOS_FAIL = 'GET_PHOTOS_FAIL';\nexport const GET_PHOTOS_SUCCESS = 'GET_PHOTOS_SUCCESS';\n\n\nexport const getPhotos = (\n  params = {\n    search: null,\n    emotions: null,\n    page: null,\n  },\n  clean = false,\n  seamless = false,\n) => async (dispatch) => {\n  dispatch({\n    type: GET_PHOTOS_PENDING,\n    // we've disabled loading if 'seamless' option is present because we need seamless ordering\n    payload: seamless ? { ...params, loading: false, loaded: true } : params,\n  });\n  const fetchUrl = `${API_CONFIG.API_BASE}${API_CONFIG.API_VERSIONS.V1}core/photos/`;\n\n  try {\n    const response = await axios.get(`${fetchUrl}`, { params, withCredentials: true });\n    dispatch({\n      type: GET_PHOTOS_SUCCESS,\n      payload: { ...response.data, clean },\n    });\n  } catch (error) {\n    handleErrors(error, dispatch);\n  }\n};\n","import axios from 'axios';\n\nimport { API_CONFIG } from 'constants/config';\nimport { handleErrors } from 'utils/api';\n\n// objects\nexport const GET_EMOTIONS_PENDING = 'GET_EMOTIONS_PENDING';\nexport const GET_EMOTIONS_FAIL = 'GET_EMOTIONS_FAIL';\nexport const GET_EMOTIONS_SUCCESS = 'GET_EMOTIONS_SUCCESS';\n\n\nexport const getEmotions = (\n  params = {\n    search: null,\n  },\n  seamless = false,\n) => async (dispatch) => {\n  dispatch({\n    type: GET_EMOTIONS_PENDING,\n    // we've disabled loading if 'seamless' option is present because we need seamless ordering\n    payload: seamless ? { ...params, loading: false, loaded: true } : params,\n  });\n  const fetchUrl = `${API_CONFIG.API_BASE}${API_CONFIG.API_VERSIONS.V1}core/emotions/`;\n\n  try {\n    const response = await axios.get(`${fetchUrl}`, { params, withCredentials: true });\n    dispatch({\n      type: GET_EMOTIONS_SUCCESS,\n      payload: response.data,\n    });\n  } catch (error) {\n    handleErrors(error, dispatch);\n  }\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotFound404 = () => (\n  <div className=\"not-found-page\">\n    <p className=\"code\">\n      4\n      <span>0</span>\n      <span>4</span>\n    </p>\n    <span className=\"code\">\n      G\n      <span>0</span>\n    </span>\n    <Link className=\"error\" to=\"/\">\n      B\n      <span>A</span>\n      <span>C</span>\n      <span>K</span>\n    </Link>\n  </div>\n);\n\n\nexport default NotFound404;\n","import React from 'react';\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n} from 'reactstrap';\n\n\nexport default class Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      isOpen: false,\n    };\n  }\n\n  toggle() {\n    this.setState({\n      isOpen: !this.state.isOpen,\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar color=\"dark\" dark expand=\"md\">\n          <NavbarBrand href=\"/\">Pirates of Silicon Valley</NavbarBrand>\n          <NavbarToggler onClick={this.toggle} />\n          <Collapse isOpen={this.state.isOpen} navbar />\n        </Navbar>\n      </div>\n    );\n  }\n}\n","function roundDown(num) {\n  if (num) {\n    return Math.floor(num);\n  }\n  return 0;\n}\n\nfunction resultsToOptions(results, valueName, idName = 'id') {\n  if (results && results.length > 0) {\n    return results.map(result => ({ label: result[valueName], value: result[idName] }));\n  }\n  return [];\n}\n\nexport { roundDown, resultsToOptions };\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Row } from 'reactstrap';\n\nimport Select from 'react-select';\nimport Waypoint from 'react-waypoint';\nimport qs from 'qs';\n\nimport { getPhotos } from 'redux/actions/photoActions';\nimport { getEmotions } from 'redux/actions/emotionActions';\nimport Header from 'components/Header';\nimport LoadingIcon from 'mdi-react/LoadingIcon';\nimport { resultsToOptions } from 'utils/misc';\n\n\nclass MainPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedEmotions: [],\n    };\n  }\n\n  componentDidMount() {\n    this.props.getEmotions();\n  }\n\n  getNextPhotos = () => {\n    const { photos, getPhotos } = this.props;\n    const { selectedEmotions } = this.state;\n    if (!photos.results.length) {\n      // initial loading of photos\n      getPhotos({\n        emotions: selectedEmotions && selectedEmotions.map(emotion => emotion.label).join(', '),\n      });\n    } else if (photos.next) {\n      // if waypoint is hit\n      getPhotos({\n        page: qs.parse(photos.next).page,\n        emotions: selectedEmotions && selectedEmotions.map(emotion => emotion.label).join(', '),\n      });\n    }\n  }\n\n  handleEmotionChange = async (emotions) => {\n    // emotions have unique names so we can easily filter by name\n    this.setState({ selectedEmotions: emotions });\n    await this.props.getPhotos(\n      { emotions: emotions.map(emotion => emotion.label).join(', ') },\n      true, // won't append to results\n    );\n    return resultsToOptions(this.props.emotions.results, 'name') || [];\n  }\n\n  render() {\n    const { photos, emotions } = this.props;\n    const isPhotosLoading = photos.loading;\n    const isEmotionsLoading = emotions.loading;\n\n    return (\n      <React.Fragment>\n        <Header />\n        {(isPhotosLoading || isEmotionsLoading) && <div className=\"loader\"><LoadingIcon /></div>}\n        <div className=\"album py-5 bg-light\">\n          <div className=\"container\">\n\n            <Row className=\"mb-3 filter\">\n              <div className=\"filter__container\">\n                <Select\n                  isMulti\n                  onChange={this.handleEmotionChange}\n                  options={resultsToOptions(emotions.results, 'name') || []}\n                />\n              </div>\n            </Row>\n\n            <div className=\"row\">\n\n              {photos.results.map(image => (\n                <div key={image.id} className=\"col-md-4\">\n                  <div className=\"card mb-4 shadow-sm\">\n                    <img className=\"card-img-top\" data-src=\"holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail\" alt={image.title} src={image.url_m} data-holder-rendered=\"true\" />\n                    <div className=\"card-body\">\n                      <p className=\"card-text\">{image.title}</p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n\n              <Waypoint\n                bottomOffset=\"-100px\"\n                onEnter={this.getNextPhotos}\n              />\n\n\n            </div>\n          </div>\n        </div>\n\n      </React.Fragment>\n    );\n  }\n}\n\n\nexport default connect(\n  state => ({\n    photos: state.photos,\n    emotions: state.emotions,\n  }),\n  { getPhotos, getEmotions },\n)(MainPage);\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport NotFound404 from 'containers/404';\nimport MainPage from 'containers/MainPage';\n\n\nconst Router = () => (\n  <main>\n    <Switch>\n      <Route exact path=\"/\" component={MainPage} />\n      <Route path=\"\" component={NotFound404} />\n    </Switch>\n  </main>\n);\n\nexport default Router;\n","import { PureComponent } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nclass ScrollToTop extends PureComponent {\n  static propTypes = {\n    location: PropTypes.shape({\n      pathname: PropTypes.string,\n    }).isRequired,\n    children: PropTypes.element.isRequired,\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default withRouter(ScrollToTop);\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport { hot } from 'react-hot-loader/root';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'styles/app.scss';\nimport Router from 'routes/Router';\nimport ScrollToTop from './components/ScrollToTop';\n\n\nconst App = () => (\n  <BrowserRouter>\n    <ScrollToTop>\n      <div>\n        <Router />\n      </div>\n    </ScrollToTop>\n  </BrowserRouter>\n);\n\n\nexport default hot(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport store from 'redux/store';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}